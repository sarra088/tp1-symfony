{% extends 'base.html.twig' %}

{% block title %}{{ article.titre }}{% endblock %}

{% block body %}
    <h1 class="display-4">{{ article.titre }}</h1>
    <p class="text-muted mb-4 pb-2 border-bottom">
        Par <strong class="text-dark">{{ article.auteur }}</strong>
        â€” {{ article.dateCreation|date('d/m/Y Ã  H:i') }}
        {% if article.publie %}
            <span class="badge bg-success ms-2">âœ… PubliÃ©</span>
        {% else %}
            <span class="badge bg-warning text-dark ms-2">ğŸ“ Brouillon</span>
        {% endif %}
        {% if article.categorie %}
            <span class="badge bg-info text-dark ms-2">ğŸ“‚ {{ article.categorie.nom }}</span>
        {% endif %}
    </p>

    <div class="lead mb-5 border-bottom pb-4">
        {{ article.contenu }}
    </div>

    {# Boutons d'action #}
    <div class="d-flex gap-2 align-items-center">
        <a href="{{ path('app_article_modifier', {id: article.id}) }}" class="btn btn-primary">
            âœï¸ Modifier
        </a>
        
        <form method="post" action="{{ path('app_article_supprimer', {id: article.id}) }}"
              onsubmit="return confirm('ÃŠtes-vous sÃ»r de vouloir supprimer cet article ?');" class="d-inline">
            <input type="hidden" name="_token" value="{{ csrf_token('supprimer_' ~ article.id) }}">
            <button type="submit" class="btn btn-danger">ğŸ—‘ï¸ Supprimer</button>
        </form>

        <a href="{{ path('app_articles') }}" class="btn btn-outline-secondary">
            â† Retour Ã  la liste
        </a>
    </div>
{% endblock %}